webpackJsonp([1],{0:function(t,e){},Ga65:function(t,e){},N4xH:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("xd7I"),n=i("OolZ"),a=i("e1F6"),o=i("4YfN"),l=i.n(o),c=i("2bvH"),r={props:{article:{type:Object}},computed:l()({},Object(c.d)(["theme"]))},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article",class:[t.theme.fontSize,{night:t.theme.nightMode}]},[i("div",{staticClass:"title border-1px"},[t._v(t._s(t.article.title))]),t._v(" "),i("div",{staticClass:"author"},[t._v(t._s(t.article.author))]),t._v(" "),i("div",{staticClass:"content border-1px",domProps:{innerHTML:t._s(t.article.content)}},[t._v("\n\t\t"+t._s(t.article.content)+"\n\t")]),t._v(" "),i("div",{staticClass:"foot"},[t._v("全文完 共"+t._s(t.article.wc)+"字")])])},staticRenderFns:[]};var d=i("C7Lr")(r,h,!1,function(t){i("dCw/")},null,null).exports,u={props:{showHeaderTitle:{type:Boolean,default:!1}},computed:l()({},Object(c.d)(["theme"]),{title:function(){return this.$store.getters.articleTitle}}),methods:l()({},Object(c.c)(["leftToggle","rightToggle","leftMaskToggle","rightMaskToggle"]),{handleLeftToggle:function(){this.leftToggle(),this.leftMaskToggle()},handleRightToggle:function(){this.rightToggle(),this.rightMaskToggle()}})},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header",class:{night:t.theme.nightMode}},[i("span",{staticClass:"left-toggle",on:{click:function(e){return e.stopPropagation(),t.handleLeftToggle(e)}}},[i("i",{staticClass:"iconfont icon-hamburger"})]),t._v(" "),i("span",{staticClass:"right-toggle",on:{click:function(e){return e.stopPropagation(),t.handleRightToggle(e)}}},[i("i",{staticClass:"iconfont icon-more"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeaderTitle,expression:"showHeaderTitle"}],staticClass:"header-title"},[t._v("\n\t\t"+t._s(t.title)+"\n\t")])])},staticRenderFns:[]};var m=i("C7Lr")(u,v,!1,function(t){i("q2PQ")},null,null).exports,f={data:function(){return{scrollOffset:60,showHeaderTitle:!1}},computed:l()({},Object(c.d)(["article","theme"])),components:{"v-article":d,"v-header":m},methods:{handleScroll:function(){var t=this.$refs.articleWrapper.scrollTop;this.showHeaderTitle=t>=this.scrollOffset}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main",class:{night:this.theme.nightMode}},[e("div",{staticClass:"header-wrapper"},[e("v-header",{attrs:{showHeaderTitle:this.showHeaderTitle}})],1),this._v(" "),e("div",{ref:"articleWrapper",staticClass:"article-wrapper",on:{scroll:this.handleScroll}},[e("v-article",{attrs:{article:this.article}})],1)])},staticRenderFns:[]};var p=i("C7Lr")(f,g,!1,function(t){i("uYks")},null,null).exports,C={computed:l()({},Object(c.d)(["collection","theme"])),methods:l()({},Object(c.c)(["updateArticle"]),{back:function(){this.$router.push("/")},showDetail:function(t){this.getArticleByDate(t),this.back()},getArticleByDate:function(t){var e=this;this.$http.get("https://interface.meiriyiwen.com/article/day?dev=1&date="+t).then(function(t){e.updateArticle(t.body.data)})}})},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collection",class:{night:t.theme.nightMode}},[i("div",{staticClass:"back",on:{click:t.back}},[i("i",{staticClass:"iconfont icon-back"})]),t._v(" "),i("ul",{staticClass:"list"},t._l(t.collection,function(e){return i("li",{key:e.curr,staticClass:"item border-1px",on:{click:function(i){return t.showDetail(e.curr)}}},[i("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"author"},[t._v(t._s(e.author))])])}),0)])},staticRenderFns:[]};var k=i("C7Lr")(C,_,!1,function(t){i("yhud")},null,null).exports;s.a.use(a.a);var w=new a.a({routes:[{path:"/",name:"main",component:p,meta:{index:0}},{path:"/collection",name:"collection",component:k,meta:{index:1}}]}),T=i("3cXf"),b=i.n(T),M=function(){return JSON.parse(window.localStorage.getItem("article-collection")||"[]")},O=function(t){window.localStorage.setItem("article-collection",b()(t))};s.a.use(c.a);var x={inited:!1,bottomContent:"setting",navLeftOn:!1,navRightOn:!1,padBottomOn:!1,leftMaskOn:!1,rightMaskOn:!1,bottomMaskOn:!1,article:{date:{curr:"",prev:"",next:""},author:"",title:"",digest:"",wc:0,content:""},collection:M(),theme:{fontSize:"medium",themeColor:"white",nightMode:!1}},y=new c.a.Store({state:x,getters:{articleTitle:function(t){return t.article.title},articleAuthor:function(t){return t.article.author},articleCurr:function(t){return t.article.date.curr},articleLiked:function(t){return t.collection.map(function(t){return t.curr}).indexOf(t.article.date.curr)>-1}},actions:{},mutations:{init:function(t){t.inited=!0},updateArticle:function(t,e){t.article=e},leftToggle:function(t){t.navLeftOn=!t.navLeftOn},rightToggle:function(t){t.navRightOn=!t.navRightOn},bottomToggle:function(t){t.padBottomOn=!t.padBottomOn},leftMaskToggle:function(t){t.leftMaskOn=!t.leftMaskOn},rightMaskToggle:function(t){t.rightMaskOn=!t.rightMaskOn},bottomMaskToggle:function(t){t.bottomMaskOn=!t.bottomMaskOn},openSetting:function(t){t.bottomContent="setting"},openShare:function(t){t.bottomContent="share"},articleLikeToggle:function(t){if(t.collection.map(function(t){return t.curr}).indexOf(t.article.date.curr)>-1)t.collection.splice(t.collection.map(function(t){return t.curr}).indexOf(t.article.date.curr),1);else{var e={title:t.article.title,author:t.article.author,curr:t.article.date.curr};t.collection.push(e)}},setThemeFontSize:function(t,e){t.theme.fontSize=e},setThemeColor:function(t,e){t.theme.themeColor=e},setThemeNightMode:function(t,e){t.theme.nightMode=e}}}),$={name:"left",methods:l()({},Object(c.c)(["openSetting","leftToggle","bottomToggle","leftMaskToggle","bottomMaskToggle"]),{handleSetting:function(){this.openSetting(),this.leftToggle(),this.bottomToggle(),this.leftMaskToggle(),this.bottomMaskToggle()},handlePraise:function(){window.location.href="https://meiriyiwen.com"},handleCollection:function(){this.$router.push("/collection"),this.leftToggle(),this.leftMaskToggle()}})},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-left"},[i("ul",{staticClass:"list"},[i("li",{staticClass:"item border-1px",on:{click:t.handleCollection}},[i("i",{staticClass:"iconfont icon-tag"}),t._v("我的收藏\n\t\t")]),t._v(" "),i("li",{staticClass:"item border-1px",on:{click:t.handleSetting}},[i("i",{staticClass:"iconfont icon-setting"}),t._v("阅读设置\n\t\t")]),t._v(" "),i("li",{staticClass:"item border-1px",on:{click:t.handlePraise}},[i("i",{staticClass:"iconfont icon-good"}),t._v("给个好评\n\t\t")])])])},staticRenderFns:[]};var S=i("C7Lr")($,L,!1,function(t){i("prCA")},null,null).exports;var N={name:"right",created:function(){var t,e,i,s;this.today=(t=new Date,e=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s),e+i+s),this.getArticleToday()},computed:l()({},Object(c.d)(["inited"]),Object(c.b)(["articleLiked","articleCurr"]),{showToday:function(){return this.today!==this.articleCurr},showTomorrow:function(){return parseInt(this.today)>parseInt(this.articleCurr)},liked:function(){var t=M().map(function(t){return t.curr});return console.log(t),t.indexOf(this.article.date.curr)>=0}}),methods:l()({},Object(c.c)(["init","updateArticle","rightToggle","bottomToggle","rightMaskToggle","bottomMaskToggle","openShare","articleLikeToggle"]),{handleLike:function(){this.articleLikeToggle(),this.rightToggle(),this.rightMaskToggle()},handleShare:function(){this.openShare(),this.bottomToggle(),this.rightToggle(),this.bottomMaskToggle(),this.rightMaskToggle()},getArticleToday:function(){var t=this;this.$http.get("https://interface.meiriyiwen.com/article/today?dev=1").then(function(e){t.updateArticle(e.body.data),t.inited?(t.rightToggle(),t.rightMaskToggle()):t.init()})},getArticleRandom:function(){var t=this;this.$http.get("https://interface.meiriyiwen.com/article/random?dev=1").then(function(e){t.updateArticle(e.body.data),t.rightToggle(),t.rightMaskToggle()})},getArticleByDate:function(t){var e=this;this.$http.get("https://interface.meiriyiwen.com/article/day?dev=1&date="+t).then(function(t){e.updateArticle(t.body.data),e.rightToggle(),e.rightMaskToggle()})},getArticleYesterday:function(){var t=this.$store.state.article.date.prev;this.getArticleByDate(t)},getArticleTomorrow:function(){var t=this.$store.state.article.date.next;this.getArticleByDate(t)}})},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-right"},[i("ul",{staticClass:"list"},[i("li",{staticClass:"item",on:{click:t.handleLike}},[i("div",{staticClass:"icon",class:{liked:t.articleLiked}},[i("i",{staticClass:"iconfont icon-like"})]),t._v(" "),i("div",{staticClass:"text"},[t._v("收藏")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.handleShare}},[t._m(0),t._v(" "),i("div",{staticClass:"text"},[t._v("分享")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.getArticleYesterday}},[t._m(1),t._v(" "),i("div",{staticClass:"text"},[t._v("前一天")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.getArticleRandom}},[t._m(2),t._v(" "),i("div",{staticClass:"text"},[t._v("\n\t\t\t\t随机\n\t\t\t")])]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.showTomorrow,expression:"showTomorrow"}],staticClass:"item",on:{click:t.getArticleTomorrow}},[t._m(3),t._v(" "),i("div",{staticClass:"text"},[t._v("后一天")])]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.showToday,expression:"showToday"}],staticClass:"item",on:{click:t.getArticleToday}},[t._m(4),t._v(" "),i("div",{staticClass:"text"},[t._v("\n\t\t\t\t今日\n\t\t\t")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-share"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-random"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-clock"})])}]};var R=i("C7Lr")(N,A,!1,function(t){i("k7d6")},null,null).exports,E={methods:{showMessage:function(){alert("not finished yet due to API issues")}}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share"},[i("div",{staticClass:"title"},[t._v("分享")]),t._v(" "),i("ul",{staticClass:"list"},[i("li",{staticClass:"item",on:{click:t.showMessage}},[t._m(0),t._v(" "),i("div",{staticClass:"text"},[t._v("朋友圈")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.showMessage}},[t._m(1),t._v(" "),i("div",{staticClass:"text"},[t._v("微信")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.showMessage}},[t._m(2),t._v(" "),i("div",{staticClass:"text"},[t._v("空间")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.showMessage}},[t._m(3),t._v(" "),i("div",{staticClass:"text"},[t._v("QQ")])]),t._v(" "),i("li",{staticClass:"item",on:{click:t.showMessage}},[t._m(4),t._v(" "),i("div",{staticClass:"text"},[t._v("复制")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-friends"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-wechat"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-space"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-qq"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-copy"})])}]};var j=i("C7Lr")(E,F,!1,function(t){i("dYlM")},null,null).exports,z=i("a3Yh"),B=i.n(z),H={props:{value:{default:!0},size:{type:String,default:"md中"},color:{type:String,default:"red"},openValue:{default:!0},closeValue:{default:!1},openName:{type:String,default:"是"},closeName:{type:String,default:"否"},disabled:{type:Boolean,default:!1}},computed:{className:function(){var t,e=this.value,i=this.openValue,s=(this.closeValue,this.size),n=this.color;return t={"vue-switch":!0,"z-on":e===i,"z-disabled":this.disabled},B()(t,"s-"+s,!0),B()(t,"c-"+n,!0),t}},methods:{onClick:function(){var t=this.disabled,e=this.value,i=this.openValue,s=this.closeValue;t||(i===e?this.$emit("input",s):this.$emit("input",i))}}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,on:{click:t.onClick}},[i("span",{staticClass:"open"},[t._v(t._s(t.openName))]),t._v(" "),i("span",{staticClass:"close"},[t._v(t._s(t.closeName))])])},staticRenderFns:[]};var W=i("C7Lr")(H,Y,!1,function(t){i("N4xH")},"data-v-ec87d32a",null).exports,D={computed:l()({},Object(c.d)(["theme"]),{nightMode:{get:function(){return this.$store.state.theme.nightMode},set:function(t){this.setThemeNightMode(t)}}}),components:{"my-switch":W},methods:l()({},Object(c.c)(["setThemeFontSize","setThemeColor","setThemeNightMode"]))},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"setting"},[i("ul",{staticClass:"list"},[i("li",{staticClass:"item"},[i("div",{staticClass:"text"},[t._v("\n\t\t\t\t字号\n\t\t\t")]),t._v(" "),i("div",{staticClass:"tool"},[i("div",{staticClass:"button-group"},[i("div",{staticClass:"button",class:{active:"small"===t.theme.fontSize},on:{click:function(e){return t.setThemeFontSize("small")}}},[t._v("小")]),t._v(" "),i("div",{staticClass:"button",class:{active:"medium"===t.theme.fontSize},on:{click:function(e){return t.setThemeFontSize("medium")}}},[t._v("中")]),t._v(" "),i("div",{staticClass:"button",class:{active:"large"===t.theme.fontSize},on:{click:function(e){return t.setThemeFontSize("large")}}},[t._v("大")])])])]),t._v(" "),i("li",{staticClass:"item"},[i("div",{staticClass:"text"},[t._v("\n\t\t\t\t背景\n\t\t\t")]),t._v(" "),i("div",{staticClass:"tool"},[i("ul",{staticClass:"color-selector"},[i("li",{staticClass:"selector white",on:{click:function(e){return t.setThemeColor("white")}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"white"===t.theme.themeColor,expression:"theme.themeColor==='white'"}],staticClass:"iconfont icon-selected"})]),t._v(" "),i("li",{staticClass:"selector green",on:{click:function(e){return t.setThemeColor("green")}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"green"===t.theme.themeColor,expression:"theme.themeColor==='green'"}],staticClass:"iconfont icon-selected"})]),t._v(" "),i("li",{staticClass:"selector brown",on:{click:function(e){return t.setThemeColor("brown")}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"brown"===t.theme.themeColor,expression:"theme.themeColor==='brown'"}],staticClass:"iconfont icon-selected"})]),t._v(" "),i("li",{staticClass:"selector pink",on:{click:function(e){return t.setThemeColor("pink")}}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"pink"===t.theme.themeColor,expression:"theme.themeColor==='pink'"}],staticClass:"iconfont icon-selected"})])])])]),t._v(" "),i("li",{staticClass:"item"},[i("div",{staticClass:"text"},[t._v("\n\t\t\t\t夜间\n\t\t\t")]),t._v(" "),i("div",{staticClass:"tool"},[i("div",{staticClass:"switch"},[i("my-switch",{attrs:{color:"green","open-name":"","close-name":"",size:"md"},model:{value:t.nightMode,callback:function(e){t.nightMode=e},expression:"nightMode"}})],1)])])])])},staticRenderFns:[]};var I=i("C7Lr")(D,P,!1,function(t){i("ZJ9u")},null,null).exports,J={computed:l()({},Object(c.d)(["bottomContent"])),components:{"v-share":j,"v-setting":I}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom"},["setting"===this.bottomContent?e("v-setting"):this._e(),this._v(" "),"share"===this.bottomContent?e("v-share"):this._e()],1)},staticRenderFns:[]};var V=i("C7Lr")(J,Q,!1,function(t){i("lvLQ")},null,null).exports,q={computed:l()({},Object(c.d)(["leftMaskOn","rightMaskOn","bottomMaskOn","theme"])),methods:l()({},Object(c.c)(["leftToggle","rightToggle","bottomToggle","leftMaskToggle","rightMaskToggle","bottomMaskToggle"]),{handleLeft:function(){this.leftToggle(),this.leftMaskToggle()},handleRight:function(){this.rightToggle(),this.rightMaskToggle()},handleBottom:function(){this.bottomToggle(),this.bottomMaskToggle()}})},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mask-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.leftMaskOn,expression:"leftMaskOn"}],staticClass:"mask mask-left",on:{click:t.handleLeft}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.rightMaskOn,expression:"rightMaskOn"}],staticClass:"mask mask-right",on:{click:t.handleRight}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bottomMaskOn,expression:"bottomMaskOn"}],staticClass:"mask mask-bottom",on:{click:t.handleBottom}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.theme.nightMode,expression:"!theme.nightMode"}],staticClass:"mask mask-theme",class:t.theme.themeColor})])},staticRenderFns:[]};var G=i("C7Lr")(q,Z,!1,function(t){i("Ga65")},null,null).exports,X={name:"App",mounted:function(){var t=this;window.addEventListener("beforeunload",function(){O(t.$store.state.collection)})},data:function(){return{navLeftWidth:36,navRightWidth:20,padBottomHeight:26,transitionName:""}},computed:l()({},Object(c.d)(["navLeftOn","navRightOn","padBottomOn","theme"])),components:{"v-nav-left":S,"v-nav-right":R,"v-bottom":V,"v-main":p,"v-mask":G},watch:{$route:function(t,e){t.meta.index>e.meta.index?this.transitionName="":this.transitionName="fade"},navLeftOn:function(t){var e=this.$refs.left,i=this.$refs.mainWrapper;this.$refs.articleWrapper;t?(e.style.left="0",i.style.left=this.navLeftWidth+"vw",i.style.overflowY="hidden"):(e.style.left=-this.navLeftWidth+"vw",i.style.left="0",i.style.overflowY="")},navRightOn:function(t){var e=this.$refs.right,i=this.$refs.mainWrapper;t?(e.style.left=100-this.navRightWidth+"vw",i.style.overflowY="hidden"):(e.style.left="100vw",i.style.overflowY="")},padBottomOn:function(t){var e=this.$refs.bottomWrapper,i=this.$refs.mainWrapper;t?(e.style.top=100-this.padBottomHeight+"vh",i.style.overflowY="hidden"):(e.style.top="100vh",i.style.overflowY="hidden")}}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app",class:{night:this.theme.nightMode},attrs:{id:"app"}},[e("div",{ref:"left",staticClass:"left"},[e("v-nav-left")],1),this._v(" "),e("div",{ref:"mainWrapper",staticClass:"main-wrapper"},[e("transition",{attrs:{name:this.transitionName}},[e("router-view")],1)],1),this._v(" "),e("div",{ref:"right",staticClass:"right"},[e("v-nav-right")],1),this._v(" "),e("div",{ref:"bottomWrapper",staticClass:"bottom-wrapper"},[e("v-bottom")],1),this._v(" "),e("v-mask")],1)},staticRenderFns:[]};var U=i("C7Lr")(X,K,!1,function(t){i("fmJS")},null,null).exports;s.a.use(n.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:w,store:y,components:{App:U},template:"<App/>"})},ZJ9u:function(t,e){},"dCw/":function(t,e){},dYlM:function(t,e){},fmJS:function(t,e){},k7d6:function(t,e){},lvLQ:function(t,e){},prCA:function(t,e){},q2PQ:function(t,e){},uYks:function(t,e){},yhud:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9f0018ed1df17ca0243e.js.map